//================// Header//================Enterprise.Header = {    initialize: function(config) {        this.headerMobile__content = jQuery(config.headerMobile__content);        this.page = jQuery(config.page);        this.body = jQuery(config.body);        this.headerMobile__menu = jQuery(config.headerMobile__menu);        this.headerMobile = jQuery(config.headerMobile);        this.mobMenu_bottom = jQuery(config.mobMenu_bottom);        this.headerMobile__toggle = jQuery(config.headerMobile__toggle);        this.headerMobile__banner = jQuery(config.headerMobile__banner);        this.headerSearchMain = jQuery(config.headerSearchMain);        this.getToggleMenu();        this.getDropDownMenuToggle();        this.isMobileBannerTop();        this.getSwipeMenu();        this.getClickSearch();    },    getClickSearch: function() {        var _this = this;        this.headerSearchMain.on('click touchstart', function() {            var self = jQuery(this);            if(!_this.body.hasClass('searchActiveMain')) {                _this.body.addClass('searchActiveMain');                self.next().find('input').focus();            } else {                _this.body.removeClass('searchActiveMain');            }            return false;        });    },    isMobileBannerTop: function() {        if(!this.headerMobile__banner.length) {            this.body.addClass('isBannerTopMenuNone');        }    },    getToggleMenu: function() {        var _this = this;        this.headerMobile__toggle.on('click', function() {            var self = jQuery(this);            if(!_this.body.hasClass('headerMobileToggleActive')) {                _this.body.addClass('headerMobileToggleActive');            } else {                _this.body.removeClass('headerMobileToggleActive');            }            return false;        });        this.headerMobile__menu.on('click', function() {            var self = jQuery(this);            if(!_this.body.hasClass('headerMobileToggleActive')) {                _this.body.addClass('headerMobileToggleActive');            } else {                _this.body.removeClass('headerMobileToggleActive');            }            return false;        });    },    getDropDownMenuToggle: function() {        var _this = this,            menuSub = this.mobMenu_bottom.find('.parent a.level-top');        menuSub.on('click', function() {            var self = jQuery(this);            if(!self.hasClass('active')) {                menuSub.removeClass('active');                self.addClass('active');            } else {                self.removeClass('active');            }            return false;        });    },    getSwipeMenu: function() {        var _this = this;        this.headerMobile__menu.swipe({            swipe: function(event, direction, distance, duration, fingerCount) {                if(direction == 'left') {                   _this.body.removeClass('headerMobileToggleActive');                }            }        });    }};function EnterpriseClose() {    this.initialize = function(config) {        this.close = jQuery(config.closeSearchText);        this.search = jQuery(config.search);        this.getMouse();        this.getClose();    };    this.getMouse = function() {        var _this = this;        this.search.on('keyup keydown', function(e) {            _this.getCallBack(e, _this);        });        _this.getCallBack(this.search[0], _this);    };    this.getClose = function() {        this.close.on('click', function(e) {            var self = jQuery(this);            self.next().val('');            self.next().focus();            self.hide();        });    };    this.getCallBack = function(e, _this) {        var isValue = (typeof e.target !== "undefined") ? e.target.value.length : e.value.length;        if(!isValue) {            _this.close.hide();        } else {            _this.close.show();        }    }}//================// TopCart//================Enterprise.TopCart = {    initialize: function(config) {        this.container = jQuery(config.topCartContentMobile);        this.topCartMobile__item = config.topCartMobile__item;        this.headerMobile__topCart = jQuery(config.headerMobile__topCart);        this.headerMobile__topCartNo = config.headerMobile__topCart;        this.body = jQuery('html');        this.handleMouseClick();        this.getSwipeTopCart();    },    handleMouseClick: function () {        var _this = this;        jQuery(document).on('click', this.topCartMobile__item, function() {            if (!_this.body.hasClass('topCartMobileActive'))  {                _this.body.addClass('topCartMobileActive');                ga('send', 'pageview', '/onestepcheckout/sidecart/');            } else {                _this.body.removeClass('topCartMobileActive');            }        });        jQuery(document).on('click', this.headerMobile__topCartNo, function() {            if (!_this.body.hasClass('topCartMobileActive'))  {                _this.body.addClass('topCartMobileActive');            } else {                _this.body.removeClass('topCartMobileActive');            }        });        return false;    },    getSwipeTopCart: function() {        var _this = this;        this.headerMobile__topCart.swipe({            swipe: function(event, direction, distance, duration, fingerCount) {                if(direction == 'right') {                    _this.body.removeClass('topCartMobileActive');                }            }        });    }};//================// HomeSlider//================Enterprise.HomeSlider = {    initialize: function(config) {        var _this = this;        this.selectTablistNav = jQuery(config.selectTablistNav);        this.selectTabItemNav = jQuery(config.selectTabItemNav);        this.homeSliderNewProduct = jQuery(config.homeSliderNewProduct);        this.homeSliderBrands = jQuery(config.homeSliderBrands);        this.selectTab = jQuery(config.selectTab);        this.selectTab.find('.selectTabItemNav li').hide();        this.selectTab.find('.selectTabItemNav').addClass('spinner-main');        jQuery(window).on('load', function() {            _this.selectTab.find('.selectTabItemNav li').fadeIn(300);            _this.selectTab.find('.selectTabItemNav').removeClass('spinner-main');            _this.getSliderNewProduct();            _this.getSliderBrands();        });        this.getMouseClick();    },    getMouseClick: function(e) {        var _this = this;        this.selectTablistNav.on('click', function() {            var self = jQuery(this),                selfIndex = self.index(),                allSelf = _this.selectTablistNav,                itemSelf = _this.selectTabItemNav;            if(!self.hasClass('active')) {                itemSelf.removeClass('active');                itemSelf.eq(selfIndex).addClass('active');                allSelf.removeClass('active');                self.addClass('active');            } else {                self.removeClass('active');            }            return false;        });    },    getSliderNewProduct: function() {        this.homeSliderNewProduct.owlCarousel({            items: 2,            margin: 10,            loop: false        });    },    getSliderBrands: function() {        this.homeSliderBrands.owlCarousel({            items: 2,            margin: 20,            loop: false        });    }};//===================// Catalog//===================Enterprise.Catalog = {    initialize: function(config) {        var self = this;        this.jqMobileNavigation = jQuery(config.jqMobileNavigation);        this.getToggle();        Event.observe(document, 'adjnav:ajax_on_success', function (event) {            self.jqMobileNavigation.removeClass('active');        });    },    getToggle: function() {        this.jqMobileNavigation.on('click', function() {            var self = jQuery(this);            if(!self.hasClass('active')) {                self.addClass('active');            } else {                self.removeClass('active');            }            return false;        });    }};//===================// Customer//===================Enterprise.Customer = {    initialize: function(config) {        var _this = this;        this.element = jQuery(config.element);        this.getToggle();    },    getToggle: function() {        this.element.children(".accountMenu__title").on('click touchstart', function() {            var self = jQuery(this);            if(!self.hasClass('active')) {                self.addClass('active');                self.next().slideDown();            } else {                self.removeClass('active');                self.next().slideUp();            }            return false;        });    }};//===================// BackTop//===================Enterprise.BackTop = {    initialize: function(config) {        this.backTop = jQuery(config.backTop);        this.getScrollTop();        this.getClick();    },    getScrollTop: function() {        var _this = this;        jQuery(window).on('scroll', function() {            var scrollTop = jQuery(this).scrollTop();            if(scrollTop > 100) {                _this.backTop.fadeIn();            } else {                _this.backTop.fadeOut();            }        })    },    getClick: function() {        var htmlBody = jQuery('body,html');        this.backTop.find('a').on('click', function() {            htmlBody.animate({                scrollTop: 0            }, 800);            return false;        });    }};//===================// Login//===================Enterprise.Login = {    initialize: function(config) {        this.neklo_ajax_login_show_popup = jQuery(config.neklo_ajax_login_show_popup);        this.headerLoginNav__logout = jQuery(config.headerLoginNav__logout);        this.getClickSub();    },    getClickSub: function() {        this.neklo_ajax_login_show_popup.on('click', function() {            var self = jQuery(this);            if(!self.hasClass('active')) {                self.addClass('active');            } else {                self.removeClass('active');            }            return false;        });    }};//===================// Popup//===================Enterprise.Popup = {    initialize: function(config) {        this.popup__over = jQuery(config.popup__over);        this.popup = jQuery(config.popup);        this.getClickPopupShop = jQuery(config.getClickPopupShop);        this.getClickPopupClose = jQuery(config.getClickPopupClose);        this.getPopupShop();        this.getPopupHide();    },    getPopupShop: function() {        var _this = this;        this.getClickPopupShop.on('click', function() {            _this.getShow();            return false;        });    },    getPopupHide: function() {        var _this = this;        this.getClickPopupClose.on('click', function() {            _this.getHide();            return false;        });    },    getShow: function() {        this.popup__over.fadeIn();        this.popup.fadeIn();    },    getHide: function() {        this.popup__over.fadeOut();        this.popup.fadeOut();    }};//===================// Product//===================Enterprise.Product = {    initialize: function(config) {        this.productImgSlider = jQuery(config.productImgSlider);        this.getSlider();    },    getSlider: function() {        this.productImgSlider.owlCarousel({            items: 1,            margin: 10        });    }};//===================// accordion//===================Enterprise.accordion = {    initialize: function(config) {        this.accordionProduct = jQuery(config.accordionProduct);        this.getAccordion();    },    getAccordion: function() {        var accordionProduct = this.accordionProduct,            accordionProductTitle = accordionProduct.find('h3'),            accordionProductContent = accordionProductTitle.next();        accordionProductTitle.on('click', function() {            var self = jQuery(this),                selfContent = self.next();            if(!self.hasClass('active')) {                accordionProductTitle.removeClass("active");                accordionProductContent.slideUp();                self.addClass('active');                selfContent.slideDown();            } else {                self.removeClass('active');                selfContent.stop().slideUp();            }            return false;        });    }};//===================// Brands//===================Enterprise.Brands = {    initialize: function(config) {        this.shopbybrandFilter = jQuery(config.shopbybrandFilter);        this.headerMobile__container = jQuery(config.headerMobile__container);        this.footer = jQuery(config.footer);        this.notFound = jQuery(config.notFound);        if (this.notFound.length) {            this.shopbybrandFilter.parents('.shopbybrandFilter').hide();            return false;        }        this.getScrollFilter();        this.getClickScroll();    },    getScrollFilter: function() {        var _this = this,            posTop = this.shopbybrandFilter.position().top,            heightTop = this.shopbybrandFilter.outerHeight(true),            height = this.headerMobile__container.height(),            footer = this.footer;        this.shopbybrandFilter.css({            top: height        });        jQuery(window).on('scroll', function() {            var scrollTop = jQuery(this).scrollTop(),                footerTop = footer.position().top,                footerBottom = posTop + heightTop + height,                scrollBottom = scrollTop + heightTop + height;            if(scrollTop >= posTop) {                if(scrollBottom >= footerTop) {                    _this.shopbybrandFilter.addClass("shopbybrandFilter_fixed");                    _this.shopbybrandFilter.css({                        position: 'absolute',                        top: 'auto',                        bottom: 0                    });                } else {                    _this.shopbybrandFilter.addClass("shopbybrandFilter_fixed");                    _this.shopbybrandFilter.css({                        position: 'fixed',                        top: height,                        bottom: 'auto'                    });                }            } else {                _this.shopbybrandFilter.removeClass("shopbybrandFilter_fixed");                _this.shopbybrandFilter.css({                    position: 'relative',                    top: 'auto',                    bottom: 'auto'                })            }        }).trigger('scroll');    },    getClickScroll: function() {        var _this = this;        this.shopbybrandFilter.find("li").on('click', function() {            var self = jQuery(this),                selfAttr = self.attr("data-word"),                height = _this.headerMobile__container.height();            jQuery("html, body").animate({                scrollTop: jQuery("div[data-list='" + selfAttr + "']").offset().top - (height - 20)            }, 1000);            return false;        });    }};//===================// footer//===================Enterprise.accordionGlobal = {    initialize: function(config) {        this.accordion = jQuery(config.accordion);        this.getAccordion();    },    getAccordion: function() {        var accordionProduct = this.accordion,            accordionProductTitle = accordionProduct.find('.itemli').children('a');        accordionProductTitle.on('click', function() {            var self = jQuery(this),                selfContent = self.next();            if(!self.hasClass('active')) {                accordionProductTitle.removeClass('active');                accordionProductTitle.next().slideUp();                self.addClass('active');                selfContent.slideDown();            } else {                self.removeClass('active');                selfContent.stop().slideUp();            }            return false;        });    }};//===================// historyGlobal//===================Enterprise.historyGlobal = {    getErrorImg: function(e, images) {        jQuery(e).parent('a').html(jQuery('<img src="'+images+'?='+ new Date().toString +'">'));    }};jQuery(function() {    jQuery( ".help-content" ).accordion({ header: "h2",heightStyle:'content',collapsible: true });});